<app-sidebar></app-sidebar>
<h2>List of {{userConnected.name}} {{userConnected.firstname}} 's assignments</h2>

<div class="container">

  <div class="column">
    <h2>List of unreturned assignments</h2>

    <mat-paginator
      [length]="totalPagesNotDone"
      [pageSize]="limitNotDone"
      [pageSizeOptions]="[5, 10, 25]"
      aria-label="Select page">
    </mat-paginator>

    <table
      mat-table
      [dataSource]="assignmentNotDone"
      class="mat-elevation-z8 cdk-drag-preview"
      cdkDropList
      #listNotDone="cdkDropList"
      [cdkDropListData]="assignmentNotDone"
      (cdkDropListDropped)="drop($event)"
      [cdkDropListConnectedTo]="[listDone]"
    >

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title assignment</th>
        <td mat-cell *matCellDef="let element"> {{element.title}} </td>
      </ng-container>

      <ng-container matColumnDef="deadline">
        <th mat-header-cell *matHeaderCellDef> Deadline </th>
        <td mat-cell *matCellDef="let element"> {{element.deadline | date:'dd/MM/yyyy' }} </td>
      </ng-container>

      <ng-container matColumnDef="subject">
        <th mat-header-cell *matHeaderCellDef> Subject </th>
        <td mat-cell *matCellDef="let element">
          <div>
            <img src="/assets/images/books.jpg" alt="Subject Image" class="subject-image">
          </div>
          {{element.subject.name}}
        </td>
      </ng-container>

      <ng-container matColumnDef="teacher">
        <th mat-header-cell *matHeaderCellDef> Teacher </th>
        <td mat-cell *matCellDef="let element">
          <div>
            <img src="/assets/images/user2.jpg" alt="Subject Image" class="subject-image">
          </div>
           {{element.subject.teacher.name}} {{element.subject.teacher.firstname}}
        </td>
      </ng-container>

      <ng-container matColumnDef="option">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef> <button mat-button color="primary">Detail</button> </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" cdkDrag></tr>

    </table>

  </div>

  <div class="column">
    <h2>List of rendered assignments</h2>

    <mat-paginator
      [length]="totalPagesDone"
      [pageSize]="limitDone"
      [pageSizeOptions]="[5, 10, 25]"
      aria-label="Select page">
    </mat-paginator>

    <table
      mat-table
      [dataSource]="assignmentDone"
      class="mat-elevation-z8 cdk-drag-preview"
      cdkDropList
      #listDone="cdkDropList"
      [cdkDropListData]="assignmentDone"
      (cdkDropListDropped)="drop($event)"
      [cdkDropListConnectedTo]="[listNotDone]"
    >

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title assignment</th>
        <td mat-cell *matCellDef="let element"> {{element.title}} </td>
      </ng-container>

      <ng-container matColumnDef="deadline">
        <th mat-header-cell *matHeaderCellDef> Deadline </th>
        <td mat-cell *matCellDef="let element"> {{element.deadline | date:'dd/MM/yyyy' }} </td>
      </ng-container>

      <ng-container matColumnDef="subject">
        <th mat-header-cell *matHeaderCellDef> Subject </th>
        <td mat-cell *matCellDef="let element">
          <div>
            <img src="/assets/images/books.jpg" alt="Subject Image" class="subject-image">
          </div>
          {{element.subject.name}}
        </td>
      </ng-container>

      <ng-container matColumnDef="teacher">
        <th mat-header-cell *matHeaderCellDef> Teacher </th>
        <td mat-cell *matCellDef="let element">
          <div>
            <img src="/assets/images/user2.jpg" alt="Subject Image" class="subject-image">
          </div>
           {{element.subject.teacher.name}} {{element.subject.teacher.firstname}}
        </td>
      </ng-container>

      <ng-container matColumnDef="option">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef> <button mat-button color="primary">Detail</button> </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns1;" class="example-list" cdkDrag></tr>

    </table>

  </div>

  <div class="column">
    <h2>List of noted assignments</h2>

    <mat-paginator
      [length]="totalPagesMarked"
      [pageSize]="limitMarked"
      [pageSizeOptions]="[5, 10, 25]"
      aria-label="Select page">
    </mat-paginator>

    <table mat-table [dataSource]="assignmentMarked" class="mat-elevation-z8">

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title assignment</th>
        <td mat-cell *matCellDef="let element"> {{element.title}} </td>
      </ng-container>

      <ng-container matColumnDef="deadline">
        <th mat-header-cell *matHeaderCellDef> Deadline </th>
        <td mat-cell *matCellDef="let element"> {{element.deadline | date:'dd/MM/yyyy' }} </td>
      </ng-container>

      <ng-container matColumnDef="subject">
        <th mat-header-cell *matHeaderCellDef> Subject </th>
        <td mat-cell *matCellDef="let element">{{element.subject.name}}</td>
      </ng-container>

      <ng-container matColumnDef="teacher">
        <th mat-header-cell *matHeaderCellDef> Teacher </th>
        <td mat-cell *matCellDef="let element"> {{element.subject.teacher.name}} {{element.subject.teacher.firstname}}</td>
      </ng-container>

      <ng-container matColumnDef="option">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef> <button mat-button color="primary">Detail</button> </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>

    </table>

  </div>

</div>
